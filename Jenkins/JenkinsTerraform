pipeline {
agent any
  tools {
        terraform 'terraform-11'
    }
    stages {
        stage('Initialize') {
            steps{
		    sh "terraform init"
	          }
                 
            }
        stage('format') {
            steps{
		    sh "terraform fmt"
	          }
                 
            }
	stage('plan') {
            steps{
		    sh "terraform plan"
	          }
                 
            } 
	stage('approve') {
            steps{
		    sh "terraform apply --auto-approve"
	          }
                 
            }

       stage('apply') {
            steps{
		    sh "terraform apply --auto-approve"
	          }
                 
            }
	
        }
}
